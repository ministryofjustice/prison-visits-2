---
http_interactions:
- request:
    method: get
    uri: https://noms-api-dev.dsd.io/nomisapi/lookup/active_offender?date_of_birth=1979-04-23&noms_id=A1475AE
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - excon/0.62.0
      Accept:
      - application/json
      Authorization:
      - authorisation_header
      X-Request-Id:
      - cf5bb5a0-46b9-4e52-9ec9-62570cf60808
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Mon, 21 May 2018 10:08:46 GMT
      Server:
      - nginx/1.13.8
      Server-Timing:
      - total=3, db=1
      Url-Template:
      - "/lookup/active_offender"
      Content-Length:
      - '40'
    body:
      encoding: ASCII-8BIT
      string: '{"found":true,"offender":{"id":1057027}}'
    http_version: 
  recorded_at: Mon, 21 May 2018 10:08:46 GMT
- request:
    method: get
    uri: https://noms-api-dev.dsd.io/nomisapi/offenders/1057027/visits/contact_list
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - excon/0.62.0
      Accept:
      - application/json
      Authorization:
      - authorisation_header
      X-Request-Id:
      - cf5bb5a0-46b9-4e52-9ec9-62570cf60808
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Mon, 21 May 2018 10:08:46 GMT
      Server:
      - nginx/1.13.8
      Server-Timing:
      - total=11, db=10
      Url-Template:
      - "/offenders/{offender_id}/visits"
      Content-Length:
      - '531'
    body:
      encoding: ASCII-8BIT
      string: '{"contacts":[{"id":13621,"given_name":"BOB","surname":"LIPMAN","date_of_birth":"1970-01-01","gender":{"code":"M","desc":"Male"},"relationship_type":{"code":"HUS","desc":"Husband"},"contact_type":{"code":"S","desc":"Social/
        Family"},"approved_visitor":true,"active":true,"restrictions":[]},{"id":13668,"given_name":"e","surname":"e","gender":{},"relationship_type":{"code":"COM","desc":"Case
        Admin (Offender Management Unit)"},"contact_type":{"code":"O","desc":"Official"},"approved_visitor":false,"active":true,"restrictions":[]}]}'
    http_version: 
  recorded_at: Mon, 21 May 2018 10:08:46 GMT
- request:
    method: patch
    uri: https://noms-api-dev.dsd.io/nomisapi/offenders/1057027/visits/booking/5984/cancel
    body:
      encoding: UTF-8
      string: '{"comment":null,"cancellation_code":"ADMIN"}'
    headers:
      User-Agent:
      - excon/0.62.0
      Accept:
      - application/json
      Authorization:
      - authorisation_header
      X-Request-Id:
      - 301540ce-bea3-47d8-8971-c118a09c6945
      Content-Type:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Mon, 21 May 2018 10:13:46 GMT
      Server:
      - nginx/1.13.8
      Server-Timing:
      - total=37, db=0
      Url-Template:
      - "/offenders/{offender_id}/visits"
      Content-Length:
      - '29'
    body:
      encoding: ASCII-8BIT
      string: '{"message":"Visit Cancelled"}'
    http_version: 
  recorded_at: Mon, 21 May 2018 10:13:46 GMT
recorded_with: VCR 4.0.0
